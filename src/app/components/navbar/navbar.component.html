<nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="h4 mb-0 text-uppercase d-none d-lg-inline-block" routerLinkActive="active"
      [routerLink]="['/dashboard']"></a>
    <!-- Form -->
    <!-- User -->
    <ul class="navbar-nav align-items-center d-none d-md-flex">
      <li class="nav-item" ngbDropdown placement="bottom-right">
        <a class="nav-link pr-0" role="button" ngbDropdownToggle>
          <div class="media align-items-center">
            <span class="avatar avatar-sm rounded-circle">
              <!--<img alt="Image placeholder" src="assets/img/theme/team-4-800x800.jpg">-->
            </span>
            <div class="media-body ml-2 d-none d-lg-block">
              <span class="mb-0 text-sm  font-weight-bold">{{username}}</span>
            </div>
          </div>
        </a>
        <div class="dropdown-menu-right" ngbDropdownMenu>
          <div class=" dropdown-header noti-title">
            <h6 class="text-overflow m-0">Welcome!</h6>
          </div>
          <a *ngIf="userRole == 'ROLE_FPC'" routerLinkActive="active" [routerLink]="['/fpo/user-profile']"
            class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>My profile</span>
          </a>

          <a *ngIf="userRole == 'ROLE_FARMER'" routerLinkActive="active" [routerLink]="['/fpo/farmer-user-profile']"
            class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>My profile</span>
          </a>
          <a *ngIf="userRole == 'ROLE_BUYERSELLER'" routerLinkActive="active"
            [routerLink]="['/indent_history/buyer-user-profile']" class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>My profile</span>
          </a>

          <a *ngIf="userRole == 'ROLE_INPUTSUPPLIER'" routerLinkActive="active" [routerLink]="['/user-profile']"
            class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>My profile</span>
          </a>
          <a *ngIf="userRole == 'ROLE_CHCFMB'" href="#"
            class="dropdown-item">
            <i class="ni ni-single-02"></i>
            <span>My profile</span>
          </a>
          <a class="dropdown-item" (click)="changePassword(changepassowrd)">
            <i class="fa fa-key"></i>
            <span>Change password</span>
          </a>
          <div class="dropdown-divider"></div>

          <a href="javascript:void(0)" (click)="useLanguage('hi')" class="dropdown-item">{{'Hindi' | translate}}</a>
          <div class="dropdown-divider"></div>
          <a href="javascript:void(0)" (click)="useLanguage('en')" class="dropdown-item">{{'English' | translate}}</a>


          <div class="dropdown-divider"></div>
          <a href="javascript:void(0)" (click)="logout()" class="dropdown-item">
            <i class="ni ni-user-run"></i>
            <span>Logout</span>
          </a>
        </div>
      </li>
    </ul>
  </div>


</nav>


<ng-template #changepassowrd let-modal>
  <div class="modal-header">
    <h3 class="modal-title text-center">{{'Change Password' | translate}}</h3>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss();changePasswordForm.reset();">
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <form role="form" [formGroup]="changePasswordForm">
      <div class="form-group mb-3">
        <label class="form-control-label" for="input-username">{{'Current Password'|translate}} <span
            class="required">*</span></label>
        <div class="input-group input-group-alternative">
          <input class="form-control" formControlName="oldPassword" placeholder="{{'Current Password'|translate}}"
            type="password">
        </div>
        <div *ngIf="submitted  && formControls.oldPassword.errors" class="text-danger">
          <div *ngIf="formControls.oldPassword.errors.required">{{'Current password is required'|translate}}</div>
          <div *ngIf="formControls.oldPassword.errors.pattern">{{
            'Please enter atleast 8 characters; one upper, one lower case letter, one digit, one special
                      character'|translate}}</div>
        </div>
      </div>
      <div class="form-group mb-3">
        <label class="form-control-label" for="input-username">{{'New Password'|translate}} <span
            class="required">*</span></label>
        <div class="input-group input-group-alternative">
          <input class="form-control" formControlName="password" placeholder="{{'New Password'|translate}}"
            type="password">
        </div>
        <div *ngIf="submitted && formControls.password.errors" class="text-danger">
          <div *ngIf="formControls.password.errors.required">{{'New password is required'|translate}}</div>
          <div *ngIf="formControls.password.errors.pattern">{{
            'Please enter atleast 8 characters; one upper, one lower case letter, one digit, one special
                      character'|translate}}
          </div>
        </div>
      </div>

      <div class="form-group mb-3">
        <label class="form-control-label" for="input-username">{{'Confirm New Password'|translate}}<span
            class="required">*</span></label>
        <div class="input-group input-group-alternative">
          <input class="form-control" formControlName="confirmPassword"
            placeholder="{{'Confirm New Password'|translate}}" type="password">
        </div>
        <div *ngIf="submitted && formControls.confirmPassword.errors" class="text-danger">
          <div *ngIf="formControls.confirmPassword.errors.required">{{'confirm password is required'|translate}}</div>
          <div *ngIf="formControls.confirmPassword.errors.mustMatch">{{'password does not match'|translate}}
          </div>
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-login btn-product-search btn-primary my-4"
          (click)="submitChangePassword(modal)">{{'Update Password' | translate}}</button>
      </div>
    </form>
  </div>
</ng-template>
