<div class="header bg-gradient-danger pb-7 pt-5 pt-md-8">
  <div class="container-fluid">
  
  </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--7 mp-7">
  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <div class="row">
            <div class="col-9">
              <h3 class="mb-0">Add Farmer</h3>
            </div>
          </div>
        </div>
        <div class="card-body">
          <form role="form" [formGroup]="_farmerForm">

            <div class="form-group row mb-3">
              <div class="col-6">
                <label class="input-label">Farmer Registration Number (UP Agri Pardarshi) </label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="text">
                </div>

              </div>
              <div class="col-4">

                <div class="text-center mt-2">
                  <button type="submit" class="btn btn-login btn-yellow btn-primary my-4">Fetch from UP Agri Pardashi</button>
                </div>
              </div>

            </div>
            <div class="form-group row mb-3">
              <div class="col-6">
                <label class="input-label">Farmer Name  <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="text" formControlName="farmerName">
                </div>
                <div *ngIf="submitted && formControls.farmerName.errors" class="text-danger">
                  <div *ngIf="formControls.farmerName.errors.required">farmer name is required</div>
                </div>
              </div>
              <div class="col-6">
                <label class="input-label">Farmer's Father/ Husband Name</label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="text" formControlName="parantsName">
                </div>
              </div>
            </div>
            <div class="form-group row mb-3">
              <div class="col-6">
                <label class="input-label">Category <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="category">
                    <option value="">Select Category</option>
                    <option value="Genereal">Genereal</option>
                    <option value="obc">OBC</option>
                    <option value="sc">SC</option>
                    <option value="st">st</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.category.errors" class="text-danger">
                  <div *ngIf="formControls.category.errors.required">category is required</div>
                </div>
              </div>
              <div class="col-6">
                <label class="input-label">Gender <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="gender">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">female</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.gender.errors" class="text-danger">
                  <div *ngIf="formControls.gender.errors.required">gender is required</div>
                </div>
              </div>
            </div>
            <div class="form-group row mb-3">
              <div class="col-6">
                <label class="input-label">District <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="distRefId" (change)="selectDistrict($event)">
                    <option value="">Select District</option>
                    <option *ngFor="let district of districts" [value]="district.district_id">{{district.district_name}}</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.distRefId.errors" class="text-danger">
                  <div *ngIf="formControls.distRefId.errors.required">district is required</div>
                </div>
              </div>

              <div class="col-6">
                <label class="input-label">Block <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="blockRef" (change)="selectBlock($event)">
                    <option value="">Select Block </option>
                    <option *ngFor="let block of blocks" [value]="block.id">{{block.blockName}}</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.blockRef.errors" class="text-danger">
                  <div *ngIf="formControls.blockRef.errors.required">block is required</div>
                </div>
              </div>

            </div>
            <div class="form-group row mb-3">

              <div class="col-6">
                <label class="input-label">Gram Panchayat <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="villagePanchayatId" (change)="selectGramPanchayat($event)">
                    <option value="">Select Gram Panchayat  </option>
                    <option *ngFor="let panchayat of panchayts" [value]="panchayat.panchayat_id">{{panchayat.panchayat_name}}</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.villagePanchayatId.errors" class="text-danger">
                  <div *ngIf="formControls.villagePanchayatId.errors.required">gram panchayat is required</div>
                </div>
              </div>
              <div class="col-6">
                <label class="input-label">Village <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="villRefId" (change)="selectVillage($event)">
                    <option value="">Select Village </option>
                    <option *ngFor="let village of villages" [value]="village.villageId">{{village.villageName}}</option>
                  </select>
                </div>
                <div *ngIf="submitted && formControls.villRefId.errors" class="text-danger">
                  <div *ngIf="formControls.villRefId.errors.required">Village is required</div>
                </div>
              </div>
            </div>
            <div class="form-group row mb-3">

              <div class="col-6">

                <label class="input-label">Mobile Number</label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="number" formControlName="farmerMob">
                </div>                
              </div>
              <div class="col-6">
                <label class="input-label">PIN Code</label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="number" formControlName="pincode">
                </div>                
              </div>
            </div>
            <hr />
            <h3>Bank Details</h3>
            <div class="form-group row mb-3">

              <div class="col-6">
                <label class="input-label">Bank Name <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <select class="form-control" formControlName="bankRefId" (change)="selectBanks($event)">
                    <option value="">Select Bank Name</option>
                    <option *ngFor="let bank of banks" [value]="bank.bankId">{{bank.bankName}}</option>
                  </select>
                </div>
                
              </div>
              <div class="col-6">
                <label class="input-label">Bank Account Number <span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="number" formControlName="accountNo">
                </div>
                
              </div>
            </div>

            <div class="form-group row mb-3">

              <div class="col-6">
                <label class="input-label">IFSC Code<span class="required">*</span></label>
                <div class="input-group input-group-alternative">
                  <div class="input-group-prepend">
                    <span class="input-group-text"></span>
                  </div>
                  <input class="form-control" type="text" formControlName="ifscCode">
                </div>
                
              </div>
            </div>
          </form>
        </div>
        <div class="card-footer py-4 text-center">
          <button class="btn btn-primary text-right" (Click)="saveFarmer()">Save</button>
          <button class="btn btn-warning text-right" (Click)="reset()">Reset</button>
        </div>
      </div>
    </div>
  </div>
  
  <br/>
  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <div class="row">
            <div class="col-9">
              <h3 class="mb-0">Farmer details</h3>
            </div>
            <!-- <div class="col-3 text-right">
        <button class="btn btn-primary text-right">Add Member</button>
      </div> -->
          </div>
        </div>
        <div class="table-responsive">
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
              <tr>
                <th scope="col">Farmer's Name</th>
                <th scope="col">Father/Husband Name</th>
                <th scope="col">Category</th>
                <th scope="col">Gender</th>
                <th scope="col">Mobile</th>
                <th scope="col">Add details</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let fd of farmerDetails | paginate: { itemsPerPage: 10, currentPage: p }">
                <th scope="row">
                  <div class="media align-items-center">
                    <div class="media-body">
                      <span class="mb-0 text-sm">{{fd.farmerName}}</span>
                    </div>
                  </div>
                </th>
                <td>
                  {{fd.parantsName}}
                </td>
                <td>
                  {{fd.category}}
                </td>
                <td>
                  {{fd.gender}}
                </td>
                <td>
                  {{fd.farmerMob}}
                </td>
                <td>
                  <a class="btn btn-sm btn-primary mb-1" routerLink="/land-details">
                    Land
                  </a><br />
                  <a class="btn btn-sm btn-primary mb-1" routerLink="/crop-showing-details">
                    Crop Showing
                  </a><br />
                  <a class="btn btn-sm btn-primary mb-1" routerLink="/production-details">
                    Production
                  </a><br />
                </td>
                <td class="text-right">
                  <div ngbDropdown placement="bottom-right">
                    <a class="btn btn-sm btn-primary" ngbDropdownToggle >
                      Actions
                    </a>
                    <div ngbDropdownMenu class=" dropdown-menu-right dropdown-menu-arrow">
                      <a class="dropdown-item" (click)="editFarmer(fd)">Edit</a>
                      <a class="dropdown-item" href="javascript:void(0)">Delete</a>
                    </div>
                  </div>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
        <div class="card-footer py-4">
          <nav aria-label="..." class="text-right">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>
