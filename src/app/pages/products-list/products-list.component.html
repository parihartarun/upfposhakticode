<!-- Full Page Image Header with Vertically Centered Content -->
<div class="title d-none">
  <ol class="breadcrumb  mb-0">
    <li><a class="mx-1 text-upfpo px-1" routerLink="">{{'Home' | translate}}</a> /</li>
    <li><a class="mx-1 text-upfpo px-1" role="button"> {{'Search' | translate}} </a></li>
  </ol>
</div>
<!-- Page Content -->
<section class="pb-3 containerMain">
  <div class="container">
    <div class="row mb-3 d-flex justify-content-center p-2">
      <div class="col-md-8 col-lg-8 col-sm-12">
        <div class="d-flex mx-3  align-items-end justify-content-center" style="border: solid;">
          <div class="dropdown d-inline searchDropDown">
            <select class="btn d-inline btn-default search-btn dropdown-toggle" id="searchin" name="Searchin"
              [(ngModel)]="filterParams.in" style="width: 100%;border-right: solid;border-radius: 0;">
              <option value="crop">{{'Crop' | translate }}</option>
              <option value="insecticide">{{'Insecticides' | translate }}</option>
              <option value="seed">{{'Seeds' | translate }}</option>
              <option value="fmb">{{'machinery' | translate }}</option>
              <option value="fertilizer">{{'Fertilizers' | translate }}</option>
              <option value="districts">{{'District1'|translate}}</option>
            </select>
          </div>
          <input type="text" class="form-control d-inline search-text" name="topsearch" [(ngModel)]="filterParams.val"
            style="border-radius: 0;" id="exampleFormControlInput1" placeholder="{{'searchplaceholder' |translate}}">

          <button class="btn d-inline btn-block btn-product-search active search-btn" role="button"
            (click)="fetchnewData();" aria-pressed="true" style="border-radius: 0;"
            [disabled]="filterParams.val.length===0">
            <span class="searchText">{{'Search' | translate }}</span>
            <span class="searchIcon"><i class="fa fa-search" aria-hidden="true"></i></span>
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <div class="card" *ngIf="(selectedDropdown==='crop')">
          <article class="card-group-item my-2" *ngIf="districts?.length">
            <header class="">
              <h3 class="title">{{'District1' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let district of districts">
                    <input class="form-check-input" type="checkbox" [value]="district.name" [name]="district.name"
                      [(ngModel)]="district.is_active" (change)="selectDistrct(district)">
                    <span class="form-check-label">
                      {{district.name}}
                    </span>
                  </label> 
                </form>

              </div> <!-- card-body.// -->
            </div>
          </article> 
          <article class="card-group-item my-2">
            <header class="">
              <h3 class="title">{{'cropandverieties' | translate }} </h3>
            </header>
            <ngx-loading [show]="!treeView" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
            <ngx-treeview *ngIf="treeView" [items]="treeView" [config]="config"
              (selectedChange)="onSelectedChange($event)" >
            </ngx-treeview>
          </article>
        </div> <!-- card.// -->
        <!---For Machinery-->
        <div class="card" *ngIf="(selectedDropdown==='fmb')">
          <article class="card-group-item my-2" *ngIf="districts?.length">
            <header class="">
              <h3 class="title">{{'District1' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let district of districts">
                    <input class="form-check-input" type="checkbox" [value]="district.name" [name]="district.name"
                      [(ngModel)]="district.is_active" (change)="selectDistrct(district)">
                    <span class="form-check-label">
                      {{district.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article> 
          <article class="card-group-item my-2" *ngIf="machinetypes?.length">
            <header class="">
              <h3 class="title">{{'Machinery' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let machinetype of machinetypes">
                    <input class="form-check-input" type="checkbox" [value]="machinetype.name" [name]="machinetype.name"
                      [(ngModel)]="machinetype.is_active" (change)="selectMachineType(machinetype)">
                    <span class="form-check-label">
                      {{machinetype.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article> 

          <article class="card-group-item my-2" *ngIf="brands?.length">
            <header class="">
              <h3 class="title">{{'Company / Brand' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let brand of brands">
                    <input class="form-check-input" type="checkbox" [value]="brand.name" [name]="brand.name"
                      [(ngModel)]="brand.is_active" (change)="selectBrand(brand)">
                    <span class="form-check-label">
                      {{brand.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article> 

          <article class="card-group-item my-2" *ngIf="chcFmbs?.length">
            <header class="">
              <h3 class="title">{{'CHC FMB' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let chcFmb of chcFmbs">
                    <input class="form-check-input" type="checkbox" [value]="chcFmb.name" [name]="chcFmb.name"
                      [(ngModel)]="chcFmb.is_active" (change)="selectChcFmb(chcFmb)">
                    <span class="form-check-label">
                      {{chcFmb.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article>

          
        </div>
        <!--End of Machinery-->
        <!--For Seed-->
        <div class="card" *ngIf="(selectedDropdown==='seed')">
          <article class="card-group-item my-2" *ngIf="districts?.length">
            <header class="">
              <h3 class="title">{{'District1' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let district of districts">
                    <input class="form-check-input" type="checkbox" [value]="district.name" [name]="district.name"
                      [(ngModel)]="district.is_active" (change)="selectDistrct(district)">
                    <span class="form-check-label">
                      {{district.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article>
          <article class="card-group-item my-2">
            <header class="">
              <h3 class="title">{{'cropandverieties' | translate }} </h3>
            </header>
                <ngx-loading [show]="!treeView" [config]="{backdropBackgroundColour: '#ffffff', 
              backdropBorderRadius: '1px',
              primaryColour: '#926E01', 
              secondaryColour: '#926E01', 
              tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
            <ngx-treeview *ngIf="treeView" [items]="treeView" [config]="config"
              (selectedChange)="onSelectedChange($event)">
            </ngx-treeview>
          </article>
        </div>
        <!--End of Seed-->
        <!--For Insecticide-->
        <div class="card" *ngIf="(selectedDropdown==='insecticide')">
                <article class="card-group-item my-2" *ngIf="districts?.length">
                  <header class="">
                    <h3 class="title">{{'District1' | translate }}</h3>
                  </header>
                  <div class="filter-content">
                    <div class="filterDistrict">
                      <form>
                        <label class="form-check" *ngFor="let district of districts">
                          <input class="form-check-input" type="checkbox" [value]="district.name" [name]="district.name"
                            [(ngModel)]="district.is_active" (change)="selectDistrct(district)">
                          <span class="form-check-label">
                            {{district.name}}
                          </span>
                        </label> <!-- form-check.// -->
                      </form>
                    </div> <!-- card-body.// -->
                  </div>
                </article>

        </div>

        <!--End of Insecticide-->
        <!--Start of Fertilizer-->
        <div class="card" *ngIf="(selectedDropdown==='fertilizer')">
              <article class="card-group-item my-2" *ngIf="districts?.length">
                <header class="">
                  <h3 class="title">{{'District1' | translate }}</h3>
                </header>
                <div class="filter-content">
                  <div class="filterDistrict">
                    <form>
                      <label class="form-check" *ngFor="let district of districts">
                        <input class="form-check-input" type="checkbox" [value]="district.name" [name]="district.name"
                          [(ngModel)]="district.is_active" (change)="selectDistrct(district)">
                        <span class="form-check-label">
                          {{district.name}}
                        </span>
                      </label> <!-- form-check.// -->
                    </form>
                  </div> <!-- card-body.// -->
                </div>
              </article>
              <article class="card-group-item my-2" *ngIf="fertilizerTypes?.length">
                <header class="">
                  <h3 class="title">{{'Fertilizer Types' | translate }}</h3>
                </header>
                <div class="filter-content">
                  <div class="filterDistrict">
                    <form>
                      <label class="form-check" *ngFor="let fertilizerType of fertilizerTypes">
                        <input class="form-check-input" type="checkbox" [value]="fertilizerType.name" [name]="fertilizerType.name"
                          [(ngModel)]="fertilizerType.is_active" (change)="selectFertilizerType(fertilizerType)">
                        <span class="form-check-label">
                          {{fertilizerType.name}}
                        </span>
                      </label> <!-- form-check.// -->
                    </form>
                  </div> <!-- card-body.// -->
                </div>
              </article>
        </div>

        <div class="card" *ngIf="(selectedDropdown !=='crop')">
          <article class="card-group-item my-2" *ngIf="inputSuppliers?.length">
            <header class="">
              <h3 class="title">{{'Input Suppliers' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let inputSupplier of inputSuppliers">
                    <input class="form-check-input" type="checkbox" [value]="inputSupplier.name" [name]="inputSupplier.name"
                      [(ngModel)]="inputSupplier.is_active" (change)="selectInputSupplier(inputSupplier)">
                    <span class="form-check-label">
                      {{inputSupplier.name}}
                    </span>
                  </label> <!-- form-check.// -->
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article>
        </div>

        <div class="card">
          <article class="card-group-item my-2" *ngIf="fpolist?.length">
            <header class="">
              <h3 class="title">{{'FPO' | translate }}</h3>
            </header>
            <div class="filter-content">
              <div class="filterDistrict">
                <form>
                  <label class="form-check" *ngFor="let fpo of fpolist;let i=index">
                    <input class="form-check-input" type="checkbox" [value]="fpo.name" name="fpoName{{i}}"
                      [(ngModel)]="fpo.is_active" (change)="selectFpo(fpo)">
                    <span class="form-check-label">
                      {{fpo.name}}
                    </span>
                  </label>
                </form>
              </div> <!-- card-body.// -->
            </div>
          </article>
        </div>
        <!--End of Fertilizer-->
      </div>
      <div class="col-md-9">
        <div class="row">

          <ng-template #customLoadingTemplate>

          </ng-template>
        </div>
        
        <div class="row">
          <div class="col-lg-6 mb-4" *ngFor="let product of filteredData">
            <div class="card card-stats box_shadow card_2" *ngIf="selectedDropdown==='crop'">
              <div class="changetopoint"routerLink="/fpo-details/{{product.fpoid}}">
                <h2>{{product.fpo}}</h2>
              </div>
              <div class="row" >
                <div class="col-lg-4 col-sm-4">
                  <div class="gray_color1 d-flex justify-content-center">
                    <img src="assets/image/wheat.jpeg">
                  </div>
                </div>
                <div class="col-lg-8 col-sm-8">
                  <div class="row">
                    <div class="col-md-12">

                      <div class="mcq">
                        <ul>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Crop'|translate}}:
                            </span> <strong> {{product.crop}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Variety'|translate}}:
                            </span><strong> {{product.variety}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Place'|translate}}:
                            </span><strong> {{product.district}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Quantity1'|translate}}:
                            </span><strong> {{product.currentMarketable?product.currentMarketable:'-'}}
                              {{'quintal' | translate }}</strong>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-12 d-flex justify-content-end">
                  <button class="mx-0 btn btn-indent btn-primary" (click)="open($event,mymodal,product)" type="button"
                    style="border-radius: 5px; color: #fff;">{{'createindent' | translate }}</button>
                </div>
              </div>
            </div>
            <!---End of Crops-->
            <!--Start of Machinery-->
            <div class="card card-stats box_shadow card_2" *ngIf="selectedDropdown==='fmb'">
              <div *ngIf="product.role==='ROLE_CHCFMB';else otherRole">
                  <div class="changetopoint" routerLink="/chcfmb-details/{{product.vendorid}}">
                    <h2>{{product.vendorname}}</h2>
                  </div>
              </div>
              <ng-template #otherRole>
                <div *ngIf="product.role==='ROLE_INPUTSUPPLIER';else otherRole5">
                    <div class="changetopoint" routerLink="/supplier-details/{{product.vendorid}}">
                      <h2>{{product.vendorname}}</h2>
                    </div>
                </div>
                <ng-template #otherRole5>
                    <div class="changetopoint" routerLink="/fpo-details/{{product.vendorid}}">
                      <h2>{{product.vendorname}}</h2>
                    </div>
                </ng-template>
              </ng-template>
              <div class="row" >
                <div class="col-lg-4 col-sm-4">
                  <div class="gray_color1 d-flex justify-content-center">
                    <img [src]="product.imagepath">
                  </div>
                </div>
                <div class="col-lg-8 col-sm-8">
                  <div class="row">
                    <div class="col-md-12">

                      <div class="mcq">
                        <ul>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Machine'|translate}}:
                            </span> <strong> {{product.machinename}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Company'|translate}}:
                            </span><strong> {{product.company}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Place'|translate}}:
                            </span><strong> {{product.district}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Rent'|translate}}:
                            </span><strong> {{product.rent?product.rent:'N.A'}}</strong>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
                  <div class="row mt-2">
                      <div class="col-12 d-flex justify-content-end">
                        <button class="mx-0 btn btn-indent btn-primary" (click)="openFour($event,mymodalMach,product)" type="button"
                          style="border-radius: 5px; color: #fff;">{{'createindent' | translate }}</button>
                      </div>
                  </div>
                <!--/ng-template-->
              
            </div>
            <!---End of Machinery-->
            <!--Start of Seeds-->
            <div class="card card-stats box_shadow card_2" *ngIf="product.recordtype==='seeds'">
              <div *ngIf="product.role==='ROLE_INPUTSUPPLIER';else otherRole2">
                  <div class="changetopoint"routerLink="/supplier-details/{{product.vendorid}}">
                    <h2>{{product.vendorname}}</h2>
                  </div>
              </div> 
              <ng-template #otherRole2>
                <div class="changetopoint" routerLink="/fpo-details/{{product.vendorid}}">
                  <h2>{{product.vendorname}}</h2>
                </div>
              </ng-template>  
              <div class="row" >
                <div class="col-lg-4 col-sm-4">
                  <div class="gray_color1 d-flex justify-content-center">
                    <img [src]="product.imagepath">
                  </div>
                </div>
                <div class="col-lg-8 col-sm-8">
                  <div class="row">
                    <div class="col-md-12">

                      <div class="mcq">
                        <ul>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Crop'|translate}}:
                            </span> <strong> {{product.crop}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Variety'|translate}}:
                            </span><strong> {{product.cropveriety}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Place'|translate}}:
                            </span><strong> {{product.district}}</strong>
                          </li>
                          <!--li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Quantity1'|translate}}:
                            </span><strong> {{product.quantity?product.quantity:'-'}}
                              {{'quintal' | translate }}</strong>
                          </li-->
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-12 d-flex justify-content-end">
                  <button class="mx-0 btn btn-indent btn-primary" (click)="openThree($event,mymodalSeed,product)" type="button"
                    style="border-radius: 5px; color: #fff;">{{'createindent' | translate }}</button>
                </div>
              </div>
            </div>
            <!--End of Seeds-->
            <!--Start of Insecticide-->
            <div class="card card-stats box_shadow card_2" *ngIf="product.recordtype==='insecticide'">
              <div *ngIf="product.role==='ROLE_INPUTSUPPLIER';else otherRole3">
                    <div class="changetopoint"routerLink="/supplier-details/{{product.vendorid}}">
                      <h2>{{product.vendorname}}</h2>
                    </div>
               </div> 
              <ng-template #otherRole3>
                <div class="changetopoint" routerLink="/fpo-details/{{product.vendorid}}">
                  <h2>{{product.vendorname}}</h2>
                </div>
              </ng-template>
              <div class="row" >
                <div class="col-lg-4 col-sm-4">
                  <div class="gray_color1 d-flex justify-content-center">
                    <img [src]="product.imagepath">
                  </div>
                </div>
                <div class="col-lg-8 col-sm-8">
                  <div class="row">
                    <div class="col-md-12">

                      <div class="mcq">
                        <ul>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Name'|translate}}:
                            </span> <strong> {{product.manufacturer}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Type'|translate}}:
                            </span><strong> {{product.itemtype}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Place'|translate}}:
                            </span><strong> {{product.district}}</strong>
                          </li>
                          
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-12 d-flex justify-content-end">
                  <button class="mx-0 btn btn-indent btn-primary" (click)="openOne($event,mymodalInput,product)" type="button"
                    style="border-radius: 5px; color: #fff;">{{'createindent' | translate }}</button>
                </div>
              </div>
            </div>
            <!--End of Insecticide-->
            <!--Start of Fertilizer-->
            <div class="card card-stats box_shadow card_2" *ngIf="product.recordtype==='fertilizer'">
              <div *ngIf="product.role==='ROLE_INPUTSUPPLIER';else otherRole4">
                  <div class="changetopoint" routerLink="/supplier-details/{{product.vendorid}}">
                    <h2>{{product.vendorname}}</h2>
                  </div>
              </div>
              <ng-template #otherRole4>
                <div class="changetopoint" routerLink="/fpo-details/{{product.vendorid}}">
                  <h2>{{product.vendorname}}</h2>
                </div>
              </ng-template>
              <div class="row" >
                <div class="col-lg-4 col-sm-4">
                  <div class="gray_color1 d-flex justify-content-center">
                    <img [src]="product.imagepath">
                  </div>
                </div>
                <div class="col-lg-8 col-sm-8">
                  <div class="row">
                    <div class="col-md-12">

                      <div class="mcq">
                        <ul>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Name'|translate}}:
                            </span> <strong> {{product.itemname}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Grade'|translate}}:
                            </span><strong> {{product.grade}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Type'|translate}}:
                            </span><strong> {{product.itemtype}}</strong>
                          </li>
                          <li>
                            <span><i class="fas fa-caret-right" aria-hidden="true"></i> {{'Place'|translate}}:
                            </span><strong> {{product.district}}</strong>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-12 d-flex justify-content-end">
                  <button class="mx-0 btn btn-indent btn-primary" (click)="openTwo($event,mymodalFert,product)" type="button"
                    style="border-radius: 5px; color: #fff;">{{'createindent' | translate }}</button>
                </div>
              </div>
            </div>
            <!--End of Fertilizer-->
          </div>
        </div>
        <div class="card-footer py-4">
          <ng-container *ngIf="totalCount">
            <span
              *ngFor="let row of [].constructor(totalCount) | paginate: { itemsPerPage: filterParams.limit, currentPage: filterParams.page }">
            </span>
            <nav aria-label="..." class="text-right">
              <pagination-controls (pageChange)="filterParams.page = $event;searchData();">
              </pagination-controls>
            </nav>
          </ng-container>
          <div *ngIf="!!!filteredData?.length" class=" p-5 d-flex justify-content-center align-items-center">
            <img class="fatalimg" src="assets/image/img/sad.jpg" />
          </div>
          <div *ngIf="!!!filteredData?.length" class="d-flex justify-content-center yellotext">{{ 'noitemsfound' |
            translate }}</div>

        </div>
      </div>
    </div>
    
    <ng-template #mymodal let-modal>

      <div *ngIf="isLoggeIn && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <strong>{{ 'indentsucessmessage' | translate:{id:indentid} }}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row">
              <div class="col-3 text-sm text-bold">{{'FPO Name'| translate}}:</div>
              <div class="col-9 text-sm">{{fpoDetail.fpoName}}</div>
            </div>
            <div class="row">
              <div class="col-3 text-sm text-bold">{{'FPO Email1'|translate}}:</div>
              <div class="col-9 text-sm ">{{fpoDetail.fpoEmail}}</div>
            </div>
            <div class="form-group mb-3">
            </div>
            <div class="form-group mb-3">
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="fulfillmentDate">
              </div>
              <div *ngIf="submitted && formControls.fulfillmentDate.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.fulfillmentDate.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="quantity">
              </div>
              <div *ngIf="!submitted && formControls.quantity.touched && formControls.quantity.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.quantity.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.quantity.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.quantity.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.quantity.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="fpoDeliveryAddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.fpoDeliveryAddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.fpoDeliveryAddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="save()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>

        <div *ngIf="isLoggeIn && !isAllowed">
          <div class="modal-header">
            <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
            <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
              (click)="modal.dismiss('Cross click')">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body mt-1 pt-1">
              <p>{{restrictMsg |translate}}</p>
              <button class="btn btn-primary" (click)="modal.close('Close click')">{{'close'|translate}}</button>
          </div>
        </div>
   
      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logout()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
    <ng-template #mymodala let-modala>

      <div class="modal-header">
        <h3 class="modal-title text-center"> Indent {{indentType}} Form</h3>
        <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
          (click)="modala.dismiss('Cross click')">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body" *ngIf="indentType=='Fertilizer'">
        <p>
          <span class="text-sm mr-2">{{'Fertilizer Type'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Fertilizer Name'| translate}}:</span>
          <span class="text-bold text-sm">Rhizobium</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Name of Manufacturer'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Fertilizer grade'| translate}}:</span>
          <span class="text-bold text-sm">Ar</span>
        </p>
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group">
              <input type="date" id="input-first-name" placeholder="seeDate"
                class="form-control form-control-alternative">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group">
              <label>{{'Quantity' | translate}} <span class="required">*</span></label>
              <input type="text" id="input-first-name" placeholder="Quantity"
                class="form-control form-control-alternative">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="form-group">
              <label class="form-control-label">{{'Address' | translate}} <span class="required">*</span></label>
              <textarea name="address" id="" cols="30" rows="4" class="form-control"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body" *ngIf="indentType=='Pesticides'">
        <p>
          <span class="text-sm mr-2">{{'Insectices Type'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Name of Manufacturer'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <div class="row">
          <div class="col-lg-12">
            <div class="form-group">
              <label>{{'Quantity' | translate}} <span class="required">*</span></label>
              <input type="text" id="input-first-name" placeholder="Quantity"
                class="form-control form-control-alternative">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="form-group">
              <label class="form-control-label">{{'Address' | translate}} <span class="required">*</span></label>
              <textarea name="address" id="" cols="30" rows="4" class="form-control"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body" *ngIf="indentType=='Machinery'">
        <p>
          <span class="text-sm mr-2">{{'Machinery Type'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Machinery Name'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <p>
          <span class="text-sm mr-2">{{'Name of Manufacturer'| translate}}:</span>
          <span class="text-bold text-sm">Chemical Fertilizer</span>
        </p>
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group">
              <label>{{'Quantity' | translate}} <span class="required">*</span></label>
              <input type="text" id="input-first-name" placeholder="Quantity"
                class="form-control form-control-alternative">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group">
              <label>{{'No. of days' | translate}} <span class="required">*</span></label>
              <input type="text" id="input-first-name" placeholder="Quantity"
                class="form-control form-control-alternative">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="form-group">
              <label class="form-control-label">{{'Address' | translate}} <span class="required">*</span></label>
              <textarea name="address" id="" cols="30" rows="4" class="form-control"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary mr-3">create indent</button>
        <button type="button" class="btn btn-primary">Close</button>
      </div>
    </ng-template>
    <!--Input Suppliers Insecticide Modal Input-->
    <ng-template #mymodalInput let-modal2>

      <div *ngIf="isLoggeIn && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal2.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <!--Change Indent insecticide message-->
            <strong>{{ indentid}}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row">
              <div class="col-3 text-sm text-bold">{{' Name'| translate}}:</div>
              <div class="col-9 text-sm">{{currentitem.vendorname}}</div>
            </div>
            <div class="row">
              <div class="col-3 text-sm text-bold">{{'Supplier Email1'|translate}}:</div>
              <div class="col-9 text-sm ">{{currentitem.vendorEmail}}</div>
            </div>
            <div class="form-group mb-3">
            </div>
            <div class="form-group mb-3">

            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="requestedDateTime">
              </div>
              <div *ngIf="submitted && formControls.requestedDateTime.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.requestedDateTime.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="indentQty">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="deliveryaddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.deliveryAddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.deliveryAddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>



            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="saveInp()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>

      <div *ngIf="isLoggeIn && !isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal2.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1">
            <p>{{restrictMsg |translate}}</p>
            <button class="btn btn-primary" (click)="modal2.close('Close click')">{{'close'|translate}}</button>
        </div>
      </div>

      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal2.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logoutIns()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
    <!--End of Input Suppliers Insecticide Modal Input-->
    <!--Start of Fertilizer Indent Form-->
    <ng-template #mymodalFert let-modal3>

      <div *ngIf="isLoggeIn && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal3.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <!--Change Indent insecticide message-->
            <strong>{{ indentid }}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row" *ngIf="inputSupplier">
              <div class="col-4 text-sm text-bold">{{' Name'| translate}}:</div>
              <div class="col-8 text-sm">{{inpSupDetail.inputSupplier.input_supplier_name}}</div>
            </div>
            <div class="row" *ngIf="inputSupplier">
              <div class="col-4 text-sm text-bold">{{'Supplier Email'|translate}}:</div>
              <div class="col-8 text-sm ">{{inpSupDetail.inputSupplier.email}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Fertilizer Name'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.fertilizeName.name}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Fertilizer Type'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.fertilizerType.type}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Fertilizer Grade'|translate}}:</div>
              <div class="col-8 text-sm" >{{indentForm.value.fertilizerGrade}}</div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="requestedDateTime">
              </div>
              <div *ngIf="submitted && formControls.fulfillmentDate.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.fulfillmentDate.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="indentQty">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="deliveryaddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.deliveryaddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.deliveryaddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>



            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="saveInpFert()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>

      <div *ngIf="isLoggeIn && !isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal3.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1">
            <p>{{ restrictMsg |translate}}</p>
            <button class="btn btn-primary" (click)="modal3.close('Close click')">{{'close'|translate}}</button>
        </div>
      </div>

      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal3.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logoutFert()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
    <!--End of Fertilizer Modal Input-->
     <!--Start of Seed Indent Form-->
     <ng-template #mymodalSeed let-modal4>

      <div *ngIf="isLoggeIn && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal4.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <!--Change Indent insecticide message-->
            <strong>{{ indentid }}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row">
              <div class="col-4 text-sm text-bold">{{' Name'| translate}}:</div>
              <div class="col-8 text-sm">{{currentitem.vendorname}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Supplier Email'|translate}}:</div>
              <div class="col-8 text-sm ">{{currentitem.email}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Crop Name'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.cropId.cropName}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Crop Variety'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.verietyId.verietyName}}</div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="requestedDateTime">
              </div>
              <div *ngIf="submitted && formControls.requestedDateTime.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.requestedDateTime.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="indentQty">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="deliveryaddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.deliveryaddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.deliveryaddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>



            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="saveInpSeed()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>
      <div *ngIf="isLoggeIn && !isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal4.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1">
            <p>{{restrictMsg |translate}}</p>
            <button class="btn btn-primary" (click)="modal4.close('Close click')">{{'close'|translate}}</button>
        </div>
      </div>

      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal4.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logoutSeed()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
     <!--End of Seed Indent Form-->
     <!--Start of Machinary Input Sup Indent Form-->
     <ng-template #mymodalMach let-modal5>

      <div *ngIf="isLoggeIn  && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal5.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <!--Change Indent insecticide message-->
            <strong>{{ indentid }}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row">
              <div class="col-4 text-sm text-bold">{{' Name'| translate}}:</div>
              <div class="col-8 text-sm">{{currentitem.vendorname}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Supplier Email'|translate}}:</div>
              <div class="col-8 text-sm ">{{currentitem.email}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Machinary Name'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.machineryName}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Machinary Type'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.machineryType}}</div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="requestedDateTime">
              </div>
              <div *ngIf="submitted && formControls.requestedDateTime.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.requestedDateTime.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required(in Qt)'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="indentQty">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'No of Days'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'No of Days' | translate }}" type="text"
                  formControlName="noOfDays">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.noOfDays.errors.required">{{'noofdaysisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.noOfDays.errors.required">{{'no of days is required'|translate}}</div>
                <div *ngIf="formControls.noOfDays.errors.required">{{'no of days is required'|translate}}</div>
              </div>
            </div> 
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="deliveryaddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.deliveryaddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.deliveryaddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="saveMachinaryInpSuppliers()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>
      <div *ngIf="isLoggeIn && !isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal5.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1">
            <p>{{'You are not authorized to create an Indent' |translate}}</p>
            <button class="btn btn-primary" (click)="modal5.close('Close click')">{{'close'|translate}}</button>
        </div>
      </div>
      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal5.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logoutMachinaryInputSup()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
     <!--End of Machinary Input Sup Indent Form-->
     <!-- Start of Machinary CHC Indent Form-->
     <ng-template #mymodalMachCHC let-modal6>

      <div *ngIf="isLoggeIn && isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Indent Form'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal6.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="!indentForm || indentloading">
          <div class="loader-container">
            <ngx-loading [show]="!indentForm || indentloading" [config]="{backdropBackgroundColour: '#ffffff', 
          backdropBorderRadius: '1px',
          primaryColour: '#926E01', 
          secondaryColour: '#926E01', 
          tertiaryColour: '#926E01'}" [template]="customLoadingTemplate"></ngx-loading>
          </div>

        </div>
        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && indentcreated">
          <div class="d-flex w-100 align-items-center justify-content-center"> <img class="suc-img"
              src="assets/image/img/successsubmit.png"></div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-2 text-sm">
            <!--Change Indent insecticide message-->
            <strong>{{ indentid }}</strong> </div>
          <div class="d-flex w-100 align-items-center justify-content-center mt-5 text-sm"><button
              (click)="closeModal()" class="btn btn-sm mt-5 btn-product-search">{{'ok' | translate }}</button></div>
        </div>

        <div class="modal-body mt-1 pt-1" *ngIf="indentForm && !indentloading && !indentcreated">
          <form role="form mt-1 p-1" [formGroup]="indentForm">
            <div class="row">
              <div class="col-4 text-sm text-bold">{{' Name'| translate}}:</div>
              <div class="col-8 text-sm">{{chcSupDetail.chcFmb.user_name}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Supplier Email'|translate}}:</div>
              <div class="col-8 text-sm ">{{chcSupDetail.chcFmb.email}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Machinary Name'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.machineryName}}</div>
            </div>
            <div class="row">
              <div class="col-4 text-sm text-bold">{{'Machinary Type'|translate}}:</div>
              <div class="col-8 text-sm ">{{indentForm.value.machineryType}}</div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Fulfillment Date' | translate }}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input type="text" placeholder="{{'Date'|translate}}" class="form-control" [minDate]="getToday()"
                  bsDatepicker [bsConfig]="{ isAnimated: true, containerClass: 'theme-red' }"
                  formControlName="requestedDateTime">
              </div>
              <div *ngIf="submitted && formControls.requestedDateTime.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.requestedDateTime.errors.required">{{'date is required'| translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'Quantity Required'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'Quantity' | translate }}" type="text"
                  formControlName="indentQty">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.indentQty.errors.required">{{'quantity is required'|translate}}</div>
                <div *ngIf="formControls.indentQty.errors.required">{{'quantityinnumberisrequired'|translate}}</div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-username">{{'No of Days'|translate}}<span
                  class="required">*</span></label>
              <div class="input-group input-group-alternative">
                <input class="form-control" placeholder="{{'No of Days' | translate }}" type="text"
                  formControlName="noOfDays">
              </div>
              <div *ngIf="!submitted && formControls.indentQty.touched && formControls.indentQty.errors"
                class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.noOfDays.errors.required">{{'noofdaysisrequired'|translate}}</div>
              </div>
              <div *ngIf="submitted && formControls.indentQty.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.noOfDays.errors.required">{{'no of days is required'|translate}}</div>
                <div *ngIf="formControls.noOfDays.errors.required">{{'no of days is required'|translate}}</div>
              </div>
            </div> 
            <div class="form-group mb-3">
              <label class="form-control-label" for="input-delivery">{{'fpodeliveryaddr'|translate}}<span
                  class="required">*</span> </label>
              <div class="input-group input-group-alternative">
                <textarea class="form-control" id="input-delivery" placeholder="{{'enterfpodeliveryaddr'|translate}}"
                  formControlName="deliveryaddress"></textarea>
              </div>
              <div *ngIf="submitted && formControls.deliveryaddress.errors" class="text-danger mt-1 text-xsm">
                <div *ngIf="formControls.deliveryaddress.errors.required">{{'deleiveryrequired'| translate}}</div>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" [disabled]="!indentForm.valid"
                class="btn btn-login btn-product-search btn-primary my-4" (click)="saveMachinaryCHCSuppliers()">{{'Send'|translate}}</button>
            </div>
          </form>
        </div>
      </div>
      <div *ngIf="isLoggeIn && !isAllowed">
        <div class="modal-header">
          <h3 class="modal-title text-center" id="modal-basic-crop">{{'Restricted'|  translate}}</h3>
          <button type="button" class="close" aria-label="Close" [disabled]="indentloading"
            (click)="modal6.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body mt-1 pt-1">
            <p>{{'You are not authorized to create an Indent' |translate}}</p>
            <button class="btn btn-primary" (click)="modal6.close('Close click')">{{'close'|translate}}</button>
        </div>
      </div>
      <div *ngIf="!isLoggeIn">
        <div class="modal-header">
          <h3 class="modal-title text-center">{{'Welcome to FPO Shakti!' | translate}}</h3>
          <button type="button" class="close" aria-label="Close" (click)="modal6.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <app-login-model-popup (logout)="logoutMachinaryCHC()"></app-login-model-popup>
        </div>
      </div>

    </ng-template>
     <!--End of Machinary CHC Indent Form-->
  </div>

</section>
